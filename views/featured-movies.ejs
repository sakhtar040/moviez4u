<!DOCTYPE html>
<html lang="en">
	<head>
		<%- include includes/header %>
		<!-- Custom styles for this template -->
		<link href="/css/dashboard.css" rel="stylesheet" />
	</head>

	<body>
		<%- include includes/navbar %>

		<div class="container-fluid">
			<div class="row">
				<%- include includes/sidebar %>

				<main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">
					<div
						class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3"
					>
						<h1 class="h2">Featured Movies</h1>
						<div class="btn-toolbar mb-2 mb-md-0">
							<div class="btn-group mr-2">
								<button
									type="button"
									class="btn btn-sm btn-outline-secondary"
									onclick="filterMovie(0)"
								>
									Hollywood
								</button>
								<button
									type="button"
									class="btn btn-sm btn-outline-secondary"
									onclick="filterMovie(1)"
								>
									Bollywood
								</button>
								<button
									type="button"
									class="btn btn-sm btn-outline-secondary"
									onclick="filterMovie(2)"
								>
									Dubbed
								</button>
							</div>
						</div>
					</div>
					<div class="table-responsive">
						<table class="table table-striped table-sm">
							<thead>
								<tr>
									<th>#</th>
									<th>Name</th>
									<th>Genre</th>
									<th>Runtime</th>
									<th>Action</th>
								</tr>
							</thead>
							<tbody>
								<% movies.forEach(function(movie,index){%>
								<tr>
									<td><%= index + 1 %></td>
									<td><%= movie.name %></td>
									<td><%= movie.genre %></td>
									<td>474 minutes</td>
									<td>
										<div class="btn-toolbar mb-2 mb-md-0">
											<div class="btn-group mr-2">
												<button
													type="button"
													class="btn btn-sm btn-outline-warning"
												>
													Edit
												</button>
												<button
													type="button"
													class="btn btn-sm btn-outline-danger"
												>
													Delete
												</button>
											</div>
										</div>
									</td>
								</tr>
								<% }); %>
							</tbody>
						</table>
					</div>
				</main>
			</div>
		</div>

		<%- include includes/footer %>
		<script>
			function filterMovie(value) {
				switch (value) {
					case 0:
						return (window.location.href = "/featured-movies?query=hollywood");
						break;

					case 1:
						return (window.location.href = "/featured-movies?query=bollywood");
						break;
					case 2:
						return (window.location.href = "/featured-movies?query=dubbed");
						break;

					default:
						break;
				}
			}
		</script>
	</body>
</html>
